<!DOCTYPE html>
<html lang="pt-BR">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <!-- Primary Meta Tags -->
        <title>MegaCraft</title>
        <meta name="title" content="MegaCraft" />
        <meta
            name="description"
            content="Junte-se ao MegaCraft! O melhor servidor para você jogar com seus amigos. Entre agora e faça parte da nossa comunidade!"
        />

        <!-- Open Graph / Facebook -->
        <meta property="og:type" content="website" />
        <meta property="og:url" content="https://megacraft.mc.land/" />
        <meta property="og:title" content="MegaCraft" />
        <meta
            property="og:description"
            content="Junte-se ao MegaCraft! O melhor servidor para você jogar com seus amigos. Entre agora e faça parte da nossa comunidade!"
        />

        <!-- Twitter -->
        <meta property="twitter:card" content="summary_large_image" />
        <meta property="twitter:url" content="https://megacraft.mc.land/" />
        <meta property="twitter:title" content="MegaCraft" />
        <meta
            property="twitter:description"
            content="Junte-se ao MegaCraft! O melhor servidor para você jogar com seus amigos. Entre agora e faça parte da nossa comunidade!"
        />
        <meta name="theme-color" content="#ffad32" />
        <link rel="stylesheet" href="style.css" />
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Outfit:wght@100;200;300;400;500;600;700;800;900&display=swap"
            rel="stylesheet"
        />
    </head>
    <body>
        <main>
            <section class="hero">
                <h1>
                    <span class="sr-only">MegaCraft</span>
                    <img
                        src="Images/logo.png"
                        alt="MegaCraft logo"
                        class="logo_pulse"
                    />
                </h1>
            </section>
            <section class="container">
                <button onclick="copyToClipboard()" class="online-players">
                    Junte-se a mais
                    <strong><span id="player-count">14</span></strong> jogadores
                    online!
                </button>
            </section>
            <section class="vote-links container">
                <a href="https://dc.gg/megacraft" target="_blank">
                    <img
                        src="Images/icons/discord.svg"
                        alt="Discord"
                        class="icon"
                    />Discord
                </a>
                <a href="https://minecraft-mp.com/server/344837/vote/" target="_blank">
                    <img src="Images/icons/vote.svg" alt="Vote" class="icon" />
                    Vote
                </a>
                <a href="" target="_blank">
                    <img
                        src="Images/icons/store.svg"
                        alt="Loja"
                        class="icon"
                    />Loja
                </a>
            </section>
        </main>
        <footer>
            <div class="container">
                <div class="footer-info">
                    <p>
                        &copy; 2023 MegaCraft. Todos os direitos reservados. <br />
                        <a href="">Política de Privacidade</a> |
                        <a href="">Termos de Serviço</a>
                    </p>
                </div>
            </div>
        </footer>
        <script>
            // IP do servidor MegaCraft
            const serverIP = "megacraft.mc.land";

            function copyToClipboard() {
                navigator.clipboard.writeText(serverIP)
                    .then(() => alert(`IP copiado: ${serverIP}`))
                    .catch(() => {
                        // Fallback para navegadores antigos
                        const textarea = document.createElement("textarea");
                        textarea.value = serverIP;
                        document.body.appendChild(textarea);
                        textarea.select();
                        document.execCommand("copy");
                        document.body.removeChild(textarea);
                        alert(`IP copiado: ${serverIP}`);
                    });
            }

            // Função para atualizar o número de jogadores online
            function updatePlayerCount() {
                fetch(`https://api.mcsrvstat.us/2/${serverIP}`)
                    .then((response) => {
                        if (!response.ok) throw new Error("Erro na resposta da API");
                        return response.json();
                    })
                    .then((data) => {
                        if (data.online && data.players && data.players.online !== undefined) {
                            document.getElementById("player-count").textContent = data.players.online;
                        } else {
                            console.log("Servidor offline ou dados incompletos");
                        }
                    })
                    .catch((error) => {
                        console.error("Erro ao buscar jogadores:", error);
                    });
            }

            // Atualiza imediatamente e a cada 1 minuto
            updatePlayerCount();
            setInterval(updatePlayerCount, 60000);
        </script>
    </body>
</html>
